A sample dataset for running LSST DM stack
==========================================

Maintainer: Mario Juric <mjuric@lsst.org>

Overview
--------

This package contains the input files and astrometric reference catalogs
need to to process a simulated LSST CCD, using processCcdLsstSim.py script
from pipe_tasks package of LSST Data Management Stack.

Usage
-----

To run the example, do::

	source $LSST_HOME/loadLSST.sh
	setup pipe_tasks
	./bin/demo.sh

where $LSST_HOME isn the directory where your LSST DM stack resides.

Look at the contents of demo.sh to get an understanding of how to run
processCcd scripts.

All outputs (calibrated images, raw lists of detected sources, etc.) will be
stored in ./output subdirectory.  These are "raw" outputs, readable by other
parts of the LSST pipeline. 

In detected-sources.txt, you'll find an ASCII whitespace separated list of
detected sources and their measured attributes.  This may be more useful for
post-processing purposes.  This file can be compared to
detected-sources.expected -- their contents should be identical.

Included Data
-------------

The package comes with raw data and all calibration products needed to
reduce a single chip (sensor=1,1 raft=2,3 visit=88689461) ImSim image.

input
  A single chip of a simulated LSST focal plane (sensor=1,1 raft=2,3
  visit=88689461), including the necessary calibration products (bias, dark,
  flat), extracted for demonstration purposes.  Note: see Notes (below) for
  how to find the ImSim version used to generate it.

astrometry_net_data
  Astrometric reference catalog for astrometry.net, pared down to the area
  covered by the one chip.

Notes
-----
* The revision of the raytrace used to make a particular raw image is
  supposed to be recorded in the header with the fits key 'VERSION'.  E.g,
  from the latest version of lsst_dm_stack_demo::

    zcat input/raw/v88689461-fr/E000/R23/S11/imsim_88689461_R23_S11_C00_E000.fits.gz \
      fold | head -n450 | grep VERSION

  we get VERSION = 25681

TODO
----
* Need to document how to generate pared down astrometry.net reference
  catalogs from the master astrometric catalogs.

Changelog
---------
* 2012/03/19, krughoff@astro.washington.edu: updated the input to an image
  generated with ImSim rev. 25681.

* 2012/03/11, mjuric@lsst.org: created the initial dataset, using a randomly
  selected chip from imsim-TuesdayRuns/imSim-22July2011/PT1.2
