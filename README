A sample dataset for running the LSST DM stack
==============================================

Maintainer: Mario Juric <mjuric@lsst.org>

Overview
--------

This package contains the input files and astrometric reference catalogs
needed to process several SDSS frames, using the processCcdSdss.py script
from the pipe_tasks package of the LSST Data Management Stack.

Usage
-----

To run the example, do::

	$ source $LSST_HOME/loadLSST.sh
	$ setup obs_sdss
	$ ./bin/demo.sh  (or: "./bin/demo.sh --small"  if local memory is constrained)

where $LSST_HOME is the directory where your LSST DM stack resides.

Look at the contents of demo.sh to get an understanding of how to run
processCcd scripts.

All outputs (calibrated images, FITS tables of detected sources, etc.) will be
stored in the ./output subdirectory.  These are "raw" outputs, readable by
other parts of the LSST pipeline

In detected-sources.txt, you'll find an ASCII whitespace separated list of
detected sources and their measured attributes.  This may be more useful for
post-processing purposes.  This file can be compared to
detected-sources.txt.expected.  The results should be very similar, but slight
differences in the numerical libraries on different platforms can produce
minor variations in the output.  The bin/compare script will check if your
results are within the expected numerical tolerances::

    $ bin/compare detected-sources.txt.expected detected-sources.txt
    Ok.

If you use the "--small" run option then the corresponding comparison file is named:
detected-sources_small.txt.expected  and the corresponding output directory is called:
"output_small".

Included Data
-------------

The package comes with raw data for run 4192 camcol 4 field 300 and run 6377
camcol 4 field 399 from SDSS stripe 82.  This is 10 frames (one in each of five
filters for the two fields).

input
  This directory contains the fpC files with calibrated pixels, fpM files with
  masks, and asTrans/tsField/psField calibration data.

astrometry_net_data
  Astrometric and photometric reference catalog for astrometry.net, pared down
  to the area required for the above fields.  This catalog is used only for
  estimating photometric zeropoints; the astrometry is not re-determined.

Changelog
---------
* 2012/08/30, ktl@slac.stanford.edu: created the initial dataset and updated
  the scripts.

* 2013/02/21, robyn@lsst.org: reduced number of filters used in order to work around a hard limit in LSST buildbot virtual machines for (Mem + Swap) = 8Gb.

* 2013/04/11, robyn@lsst.org: replaced output variables: aperturecorrection and aperturecorrection.err with correctfluxes.apcor and correctfluxes.apcor.flags;
updated the sample output files.

* 2013/06/07, robyn@lsst.org: removed multishapelet output variables since their configuration and use is no longer defined in the default configuration.

* 2013/06/11, robyn@lsst.org: updated benchmark files & tagged 7.1.0.1 for v7_1 Release.

* 2013/06/12, robyn@lsst.org: updated benchmark files & tagged 7.2.0.0 for v7_2 Release.

* 2013/06/20, robyn@lsst.org: updated benchmark files for master branch.

* 2014/06/16, robyn@lsst.org: updated benchmark files & tagged 8.0.0.0 for v8_0 Release

* 2014/06/26, robyn@lsst.org: altered file naming convention for 'small' runs and updated README.

* 2015/01/21, swibank@princeton.edu: added comparison script.
